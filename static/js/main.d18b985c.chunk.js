(this["webpackJsonpfood-delivery-admin"]=this["webpackJsonpfood-delivery-admin"]||[]).push([[0],{313:function(e,t,a){},314:function(e,t,a){},318:function(e,t,a){},559:function(e,t,a){},560:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a(2),s=a.n(n),c=a(57),i=a.n(c),l=(a(313),a(17)),o=a(18),d=a(19),u=a(20),j=a(32),h=a(30),b=(a(314),a(5)),p=a.n(b),m=a(8),x=a(23),O=a.p+"static/media/logo.2823f47c.png",f=a(282),g=a(283),v=a(14),w=a(151),y=a.n(w),N=a(126);a(316),a(561),a(562);N.a.initializeApp({apiKey:"AIzaSyBtKpn7vEemd3V0SCMJp7v6QcUAR5_Bh3s",authDomain:"fooddelivery-95b2e.firebaseapp.com",databaseURL:"https://fooddelivery-95b2e.firebaseio.com",projectId:"fooddelivery-95b2e",storageBucket:"fooddelivery-95b2e.appspot.com",messagingSenderId:"441958838421",appId:"1:441958838421:web:121226e3b50a11c9772b9c",measurementId:"G-SGKD8TXB95"});var S=N.a.auth(),k=N.a.firestore(),C=N.a.storage(),_=function(){var e=Object(m.a)(p.a.mark((function e(t,a){var r,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.signInWithEmailAndPassword(t,a);case 2:return r=e.sent,e.next=5,k.collection("super_admin").doc(r.user.uid).get();case 5:return n=e.sent,localStorage.setItem("admin",JSON.stringify(n.data())),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),D=function(){var e=Object(m.a)(p.a.mark((function e(t){var a,r,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=y()(),r=C.ref("/resturant_images").child("/"+a),e.next=4,r.put(t);case 4:return n=e.sent,e.abrupt("return",n.ref.getDownloadURL());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(m.a)(p.a.mark((function e(t){var a,r,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=y()(),r=C.ref("/dish_images").child("/"+a),e.next=4,r.put(t);case 4:return n=e.sent,e.abrupt("return",n.ref.getDownloadURL());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(m.a)(p.a.mark((function e(t){var a,r,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=y()(),r=C.ref("/admin_profiles").child("/"+a),e.next=4,r.put(t);case 4:return n=e.sent,e.abrupt("return",n.ref.getDownloadURL());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(m.a)(p.a.mark((function e(t,a,r,n,s,c,i,l,o,d){var u,j,h,b;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=t,null===a){e.next=5;break}return e.next=4,D(a);case 4:u=e.sent;case 5:return j=k.collection("restaurants").doc(),h={address:n,description:o,image:u,latitude:i,longitude:l,mobile_phone:c,name:r,phone:s,owner:d,restaurant_id:j.id,status:!0},e.next=9,j.set(h);case 9:return b=e.sent,e.abrupt("return",b);case 11:case"end":return e.stop()}}),e)})));return function(t,a,r,n,s,c,i,l,o,d){return e.apply(this,arguments)}}(),A=function(){var e=Object(m.a)(p.a.mark((function e(t,a,r,n,s,c,i,l,o,d,u){var j,h,b,m;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(j=a,null===r){e.next=5;break}return e.next=4,D(r);case 4:j=e.sent;case 5:return h=k.collection("restaurants").doc(t),b={address:s,description:d,image:j,latitude:l,longitude:o,mobile_phone:i,name:n,phone:c,owner:u,restaurant_id:h.id,status:!0},e.next=9,h.update(b);case 9:return m=e.sent,e.abrupt("return",m);case 11:case"end":return e.stop()}}),e)})));return function(t,a,r,n,s,c,i,l,o,d,u){return e.apply(this,arguments)}}(),M=function(){var e=Object(m.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.collection("restaurants").doc(t).delete();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(m.a)(p.a.mark((function e(t){var a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.collection("restaurant_reviews").doc(t).collection("user_reviews").get();case 2:return a=e.sent,r=[],a.docs.forEach((function(e){r.push(Object(v.a)({uid:e.data().review_id},e.data()))})),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(m.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.collection("restaurants").get();case 2:return t=e.sent,a=[],t.docs.forEach((function(e){a.push(Object(v.a)({uid:e.data().restaurant_id},e.data()))})),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(m.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.collection("restaurants").doc(t).get();case 2:return a=e.sent,e.abrupt("return",a.data());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(m.a)(p.a.mark((function e(t){var a,r,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.collection("restaurants").limit(t).get();case 2:return a=e.sent,r=a.docs[a.docs.length-1],n=[],a.docs.forEach((function(e){n.push(Object(v.a)({},e.data()))})),e.abrupt("return",{restaurants:n,lastRestaurant:r});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(m.a)(p.a.mark((function e(t,a){var r,n,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.collection("restaurants").startAfter(a).limit(t).get();case 2:return r=e.sent,n=r.docs[r.docs.length-1],s=[],r.docs.forEach((function(e){s.push(Object(v.a)({},e.data()))})),e.abrupt("return",{restaurants:s,lastRestaurant:n});case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Q=function(){var e=Object(m.a)(p.a.mark((function e(t){var a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=k.collection("categories").doc(),r={name:t,uid:a.id},e.next=4,a.set(r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(m.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.collection("categories").get();case 2:return t=e.sent,a=[],t.docs.forEach((function(e){a.push(Object(v.a)({},e.data()))})),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(m.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k.collection("categories").doc(t).delete();case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(m.a)(p.a.mark((function e(t,a,r,n,s,c,i,l){var o,d,u,j;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(t);case 2:return o=e.sent,d=k.collection("dishes").doc(),u={image:o,name:a,description:r,discount_price:n,price:s,ingredient:c,menu:i,restaurant:l,id:d.id,owner_id:"any"},e.next=7,d.set(u);case 7:return j=e.sent,e.abrupt("return",j);case 9:case"end":return e.stop()}}),e)})));return function(t,a,r,n,s,c,i,l){return e.apply(this,arguments)}}(),z=function(){var e=Object(m.a)(p.a.mark((function e(t,a,r,n,s,c,i,l,o,d){var u,j,h,b;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=a,null===r){e.next=5;break}return e.next=4,E(r);case 4:u=e.sent;case 5:return j=k.collection("dishes").doc(t),h={image:u,name:n,description:s,discount_price:c,price:i,ingredient:l,menu:o,restaurant:d,id:t},e.next=9,j.update(h);case 9:return b=e.sent,e.abrupt("return",b);case 11:case"end":return e.stop()}}),e)})));return function(t,a,r,n,s,c,i,l,o,d){return e.apply(this,arguments)}}(),Y=function(){var e=Object(m.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.collection("dishes").get();case 2:return t=e.sent,a=[],t.docs.forEach((function(e){a.push(Object(v.a)({uid:e.data().id},e.data()))})),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(m.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.collection("dishes").doc(t).get();case 2:return a=e.sent,e.abrupt("return",a.data());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(m.a)(p.a.mark((function e(t){var a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.collection("dishes").where("restaurant","==",t).get();case 2:return a=e.sent,r=[],a.docs.forEach((function(e){r.push(Object(v.a)({uid:e.data().id},e.data()))})),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=Object(m.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k.collection("dishes").doc(t).delete();case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(m.a)(p.a.mark((function e(t){var a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.collection("dish_reviews").doc(t).collection("user_reviews").get();case 2:return a=e.sent,r=[],a.docs.forEach((function(e){r.push(Object(v.a)({uid:e.data().review_id},e.data()))})),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(m.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.collection("orders").get();case 2:return t=e.sent,a=[],t.docs.forEach((function(e){a.push(Object(v.a)({},e.data()))})),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(m.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.collection("admin").get();case 2:return t=e.sent,a=[],t.docs.forEach((function(e){a.push(Object(v.a)({},e.data()))})),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=Object(m.a)(p.a.mark((function e(t,a){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.createUserWithEmailAndPassword(t,a);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),$=function(){var e=Object(m.a)(p.a.mark((function e(t,a,r,n,s,c){var i,l,o,d;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X(s,c);case 2:return e.next=4,R(t);case 4:return i=e.sent,l=k.collection("admin").doc(),o={profile_image:i,first_name:a,last_name:r,phone:n,email:s,user_id:l.id,data_uploaded:!0},e.next=9,l.set(o);case 9:return d=e.sent,e.abrupt("return",d);case 11:case"end":return e.stop()}}),e)})));return function(t,a,r,n,s,c){return e.apply(this,arguments)}}(),ee=a(59),te=function(e){var t=e.Icon,a=e.name,n=e.label,s=Object(ee.a)(e,["Icon","name","label"]);return Object(r.jsxs)("div",{className:"input-group",children:[Object(r.jsx)("span",{children:Object(r.jsx)(t,{})}),Object(r.jsxs)("div",{className:"input-group-inner",children:[Object(r.jsx)("label",{htmlFor:a,children:n}),Object(r.jsx)("input",Object(v.a)({id:a,name:a},s))]})]})},ae=function(e){var t=e.loading,a=e.login;return Object(r.jsx)("div",{className:"login_button",children:Object(r.jsx)("button",{onClick:a,type:"button",className:"btn",children:t?Object(r.jsx)("span",{className:"spinner-grow spinner-grow-sm"}):"Login"})})},re=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={loading:!1,email:"",password:""},e.handleChange=function(t){e.setState(Object(x.a)({},t.target.name,t.target.value))},e.setLoading=function(){e.setState({loading:!e.state.loading})},e.login=Object(m.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setLoading(),t.prev=1,t.next=4,_(e.state.email,e.state.password);case 4:window.location.reload("/"),e.setLoading(),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),e.setLoading(),alert(t.t0.message);case 12:case"end":return t.stop()}}),t,null,[[1,8]])}))),e}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return Object(r.jsx)("div",{className:"login__background",children:Object(r.jsx)("div",{className:"login__container",children:Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"app__logo",children:Object(r.jsx)("img",{src:O,alt:""})}),Object(r.jsxs)("form",{className:"login__form",children:[Object(r.jsx)("h2",{children:"Admin Login"}),Object(r.jsx)(te,{Icon:f.a,name:"email",label:"Email ID",onChange:function(t){return e.handleChange(t)},type:"email",placeholder:"youremail@gmail.com"}),Object(r.jsx)(te,{Icon:g.a,name:"password",label:"Password",onChange:function(t){return e.handleChange(t)},type:"password",placeholder:"********"}),Object(r.jsx)(ae,{loading:this.state.loading,login:this.login})]})]})})})}}]),a}(n.Component),ne=function(){return Object(r.jsx)("div",{style:{height:"100vh",width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(r.jsx)("div",{className:"spinner-border text-success",style:{width:"50px",height:"50px"},role:"status",children:Object(r.jsx)("span",{className:"sr-only",children:"Loading..."})})})},se=(a(318),a(118)),ce=a(66),ie=a(119),le=a(93),oe=a(94),de=a(145),ue=function(e){var t=e.label,a=e.path,n=e.Icon,s=Object(ee.a)(e,["label","path","Icon"]);return Object(r.jsx)("li",{children:Object(r.jsxs)(j.c,Object(v.a)(Object(v.a)({to:a,activeClassName:"active"},s),{},{children:[Object(r.jsx)("span",{className:"icon",children:Object(r.jsx)(n,{})}),Object(r.jsx)("span",{className:"list",children:t})]}))})},je=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={active:!1},e.logout=function(){window.confirm("Are you sure you want to logout?")&&localStorage.removeItem("admin"),window.location.reload()},e.handleActive=function(){e.setState({active:!e.state.active}),localStorage.setItem("expanded",!e.state.active)},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("expanded");e&&("true"===e?this.setState({active:!0}):this.setState({active:!1}))}},{key:"render",value:function(){return Object(r.jsx)("div",{className:this.state.active?"wrapper active":"wrapper",children:Object(r.jsxs)("div",{className:"main_body",children:[Object(r.jsx)("div",{className:"sidebar_menu",children:Object(r.jsxs)("div",{className:"inner__sidebar_menu",children:[Object(r.jsxs)("ul",{children:[Object(r.jsxs)("div",{className:"main_logo",children:[Object(r.jsx)("img",{src:O,alt:""}),Object(r.jsx)("h4",{children:"Food Delivery"})]}),Object(r.jsx)(ue,{path:"/food-app",Icon:se.a,label:"Dashboard"}),Object(r.jsx)(ue,{path:"/restaurant-owners",Icon:se.c,label:"Restaurant Owners"}),Object(r.jsx)(ue,{path:"/orders",Icon:le.a,label:"Orders"}),Object(r.jsx)(ue,{path:"/restaurants",Icon:ce.c,label:"Restaurants"}),Object(r.jsx)(ue,{path:"/dishes",Icon:ie.a,label:"Dishes"}),Object(r.jsx)(ue,{path:"/categories",Icon:ie.b,label:"Categories"}),Object(r.jsx)(ue,{path:"/notifications",Icon:de.a,label:"Notifications"}),Object(r.jsx)(ue,{path:"/logout",Icon:oe.b,label:"Logout",onClick:this.logout})]}),Object(r.jsx)("div",{className:"hamburger",onClick:this.handleActive,children:Object(r.jsx)("div",{className:"inner_hamburger",children:Object(r.jsxs)("span",{className:"arrow",children:[Object(r.jsx)("i",{className:"fas fa-long-arrow-alt-left"}),Object(r.jsx)("i",{className:"fas fa-long-arrow-alt-right"})]})})})]})}),Object(r.jsx)("div",{className:"container",children:this.props.children})]})})}}]),a}(n.Component),he=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={order:null,loading:!0},e.getsubtotal=function(e){var t=0;return e.foreach((function(e){t+=parseInt(e.price)*parseInt(e.quantity)})),t},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;k.collection("orders").doc(this.props.match.params.id).get().then((function(t){e.setState({order:Object(v.a)({uid:t.id},t.data()),loading:!1})})).catch((function(t){e.setState({loading:!1}),alert(t.message)}))}},{key:"render",value:function(){var e=this.state,t=e.order,a=e.loading;return Object(r.jsx)(je,{children:a?Object(r.jsx)(ne,{}):Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{className:"orders__list__item",children:[Object(r.jsxs)("div",{className:"row justify-content-between",children:[Object(r.jsxs)("div",{children:["Order ID #"," ",Object(r.jsx)("span",{className:"strong",children:t.uid.substring(0,4)})]}),Object(r.jsxs)("div",{children:["Price: $ ",Object(r.jsx)("span",{className:"strong",children:t.total_price})]})]}),Object(r.jsxs)("div",{className:"row justify-content-between",children:[Object(r.jsxs)("div",{children:["Time ",Object(r.jsx)("span",{className:"strong",children:t.time})]}),Object(r.jsx)("div",{children:Object(r.jsx)("span",{className:"strong",children:t.delivery_type})})]}),Object(r.jsx)("div",{className:"row",children:Object(r.jsxs)("div",{children:["Distance: ",Object(r.jsx)("span",{className:"strong",children:t.distance})]})}),Object(r.jsx)("div",{className:"row",children:Object(r.jsxs)("div",{children:[Object(r.jsx)("i",{className:"fa fa-map-marker-alt pr-2"}),Object(r.jsx)("span",{className:"strong",children:t.address})]})})]}),Object(r.jsxs)("div",{className:"row my-1 mx-3 justify-content-between",children:[Object(r.jsxs)("div",{children:["Status: ",Object(r.jsx)("span",{className:"strong",children:t.status})]}),Object(r.jsxs)("div",{children:["Driver: ",Object(r.jsx)("span",{className:"strong",children:t.driver_name})]})]}),Object(r.jsx)("hr",{}),Object(r.jsxs)("div",{className:"row my-1 mx-3 justify-content-between",children:[Object(r.jsxs)("div",{children:["Customer Name:"," ",Object(r.jsx)("span",{className:"strong",children:t.customer_name})]}),Object(r.jsxs)("div",{children:["Customer Phone:"," ",Object(r.jsx)("span",{className:"strong",children:t.customer_phone})]})]}),t.order_dishes.length>0&&Object(r.jsxs)("div",{className:"orders__list__item",children:[Object(r.jsx)("h4",{children:"Order Details"}),t.order_dishes.map((function(e){return Object(r.jsxs)("div",{className:"row justify-content-between my-2",children:[Object(r.jsx)("div",{className:"dish__image",children:Object(r.jsx)("img",{src:e.image,alt:""})}),Object(r.jsxs)("div",{children:[Object(r.jsx)("p",{children:e.name}),Object(r.jsxs)("p",{children:["$ ",e.price," x ",e.quantity," ="," $",parseInt(e.price)*parseInt(e.quantity)]})]})]})})),Object(r.jsxs)("div",{className:"row justify-content-between my-2",children:[Object(r.jsx)("div",{}),Object(r.jsxs)("div",{children:[Object(r.jsxs)("p",{children:["SubTotal: $",this.getsubtotal(t.order_dishes)]}),Object(r.jsx)("p",{children:"Shipping cost: $ 20"}),Object(r.jsxs)("p",{className:"font-weight-bold",children:["Total: $",this.getsubtotal(t.order_dishes)+20]})]})]})]})]})})}}]),a}(n.Component),be=Object(h.f)(he),pe=function(e){var t=e.name,a=e.label,n=e.restaurants,s=Object(ee.a)(e,["name","label","restaurants"]);return Object(r.jsxs)("div",{className:"form-group row",children:[Object(r.jsx)("label",{htmlFor:t,className:"col-sm-2 col-form-label font-weight-bold",children:a}),Object(r.jsx)("div",{className:"col-sm-10",children:Object(r.jsxs)("select",Object(v.a)(Object(v.a)({name:t},s),{},{className:"form-control",children:[Object(r.jsxs)("option",{children:["Search ",a]}),n.map((function(e,t){return Object(r.jsx)("option",{value:e.uid,children:e.name},t)}))]}))})]})},me=Object(h.f)((function(e){var t=e.order,a=e.history;return Object(r.jsxs)("div",{className:"orders__list__item",onClick:function(){return e=t.uid,void a.push("/order/".concat(e));var e},children:[Object(r.jsxs)("div",{className:"row justify-content-between",children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("span",{className:"font-weight-bold",children:"Order Id#"}),Object(r.jsx)("span",{className:"ml-2",children:t.uid.substring(0,4)})]}),Object(r.jsxs)("div",{className:"text-orange",children:[Object(r.jsx)("span",{className:"font-weight-bold",children:" Price: $"}),Object(r.jsx)("span",{className:"strong",children:t.total_price})]})]}),Object(r.jsxs)("div",{className:"row justify-content-between",children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("span",{className:"font-weight-bold",children:"Time: "}),Object(r.jsx)("span",{className:"strong",children:t.time})]}),Object(r.jsx)("div",{children:Object(r.jsx)("span",{className:"strong",children:t.delivery_type})})]}),Object(r.jsx)("div",{className:"row",children:Object(r.jsxs)("div",{children:[Object(r.jsx)("span",{className:"font-weight-bold",children:"Customer Name: "}),Object(r.jsx)("span",{className:"strong",children:t.customer_name})]})}),Object(r.jsx)("div",{className:"row",children:Object(r.jsxs)("div",{children:[Object(r.jsx)("i",{className:"fa fa-map-marker-alt pr-2"}),Object(r.jsx)("span",{className:"strong",children:t.address})]})}),Object(r.jsx)("div",{className:"row",children:Object(r.jsxs)("div",{children:[Object(r.jsx)("span",{className:"font-weight-bold",children:"Status: "})," ",Object(r.jsx)("span",{className:"strong",children:t.status})]})})]},t.uid)})),xe=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={orders:[],restaurents:[],restaurent:null,loading:!0},e.handleChange=function(t){e.setState({restaurent:t.target.value})},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;k.collection("orders").get().then((function(t){if(t.docs.length>0){var a=[];t.docs.forEach((function(e){a.push(Object(v.a)({uid:e.id},e.data()))})),e.setState({orders:a})}k.collection("restaurants").get().then((function(t){var a=[];t.docs.forEach((function(e){a.push(Object(v.a)({uid:e.id},e.data()))})),e.setState({restaurents:a,loading:!1})})).catch((function(t){e.setState({loading:!1}),alert(t.message)}))})).catch((function(t){e.setState({loading:!1}),alert(t.message)}))}},{key:"render",value:function(){var e=this.state,t=e.orders,a=e.restaurent,n=e.loading,s=t;return a&&(s=t.filter((function(e){return e.restaurant_id===a}))),Object(r.jsx)(je,{children:n?Object(r.jsx)(ne,{}):Object(r.jsxs)("div",{className:"orders__list mb-5",children:[Object(r.jsx)("div",{className:"mt-3 px-2",children:Object(r.jsx)(pe,{name:"restaurent",label:"Select Resturant:",restaurants:this.state.restaurents,onChange:this.handleChange})}),s.map((function(e){return Object(r.jsx)(me,{order:e},e.uid)}))]})})}}]),a}(n.Component),Oe=Object(h.f)(xe),fe=a(106),ge=function(e){var t=e.productRating,a=e.totalReviews;return Object(r.jsxs)("div",{className:"star-rating mt-2 d-flex justfy-content-center align-items-center",children:[Object(fe.a)(Array(5)).map((function(e,a){var n=a+1;return Object(r.jsx)("label",{children:Object(r.jsx)(se.b,{className:"star",color:n<=t?"orange":"\t#808080",size:"20"})},a)})),Object(r.jsx)("span",{className:"pl-2 font-weight-bold",children:a>0?a+" Reviews":"Not rated yet"})]})},ve=a(285),we=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={restaurant:null,loading:!0,user_reviews:[],dishes:[]},e.getRating=function(){var t=0,a=0,r=e.state.user_reviews;return r.length>0&&r.map((function(e,r){return a=r+1,t+=parseFloat(e.stars)})),"NaN"===(t/a).toString()?0:t/a},e.rendorDishses=function(){var t=e.state.dishes;return Object(r.jsx)("div",{className:"row",children:t.length>0?t.map((function(e){return Object(r.jsx)("div",{className:"col-sm-3 pb-2",children:Object(r.jsxs)("div",{className:"singal__dish",children:[Object(r.jsx)("img",{src:e.image,alt:""}),Object(r.jsxs)("div",{className:"d-flex justify-content-between align-items-center px-2 pt-1",children:[Object(r.jsx)("h6",{children:e.name}),Object(r.jsxs)("h6",{style:{color:"#3d9982"},children:["$ ",e.price]})]})]})})})):Object(r.jsx)("div",{className:"col-12",children:Object(r.jsx)("h5",{className:"d-flex justify-content-center align-items-center",children:Object(r.jsx)("span",{children:"There is no dishes"})})})})},e.rendorReviews=function(){var t=e.state.user_reviews;return t.length>0?t.map((function(e){return Object(r.jsxs)("div",{className:"singal__review",children:[Object(r.jsx)("img",{src:e.user_image,className:"rounded-circle",alt:""}),Object(r.jsxs)("div",{className:"pl-2 pt-3",children:[Object(r.jsxs)("div",{className:"d-flex align-items-center",children:[Object(r.jsx)("h6",{className:"font-weight-bold pt-2 pr-2",children:e.user_name}),Object(r.jsxs)("span",{children:[Object(r.jsx)("i",{style:{color:"#f0ad4e"},className:"fa fa-star pr-2"}),e.stars]})]}),Object(r.jsx)("p",{children:e.review})]})]})})):Object(r.jsx)("h5",{className:"d-flex justify-content-center align-items-center",children:Object(r.jsx)("span",{children:"There is no reviews"})})},e.restaurantStatusClicked=function(t,a){k.collection("restaurants").doc(a).update({status:!t}).then((function(a){alert("Updated");var r=Object(v.a)({},e.state.restaurant);r.status=!t,e.setState({restaurant:r})})).catch((function(e){alert(e.message)}))},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(p.a.mark((function e(){var t,a,r,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.id,e.prev=1,e.next=4,q(t);case 4:return a=e.sent,e.next=7,P(t);case 7:return r=e.sent,e.next=10,W(t);case 10:n=e.sent,this.setState({loading:!1,restaurant:a,user_reviews:r,dishes:n}),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),this.setState({loading:!1}),alert(e.t0.message);case 18:case"end":return e.stop()}}),e,this,[[1,14]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.loading,n=t.restaurant;return Object(r.jsx)(je,{children:a?Object(r.jsx)(ne,{}):Object(r.jsxs)("div",{className:"singal__restaurant mb-5",children:[Object(r.jsx)("img",{src:n.image,alt:""}),Object(r.jsxs)("div",{className:"pl-4",children:[Object(r.jsx)("div",{className:"d-flex align-items-center",children:Object(r.jsx)("h3",{className:"pt-4",children:n.name})}),Object(r.jsx)("p",{className:"text-muted",children:n.description}),Object(r.jsx)("hr",{}),Object(r.jsx)(ge,{productRating:this.getRating(),totalReviews:this.state.user_reviews.length}),Object(r.jsx)("hr",{}),Object(r.jsxs)("div",{className:"d-flex align-items-center mb-2",children:[Object(r.jsx)("span",{style:{fontSize:"30px"},children:Object(r.jsx)(le.b,{})}),Object(r.jsx)("h6",{className:"pl-3 pt-3",children:"Restaurant Information"})]}),Object(r.jsxs)("div",{className:"text-muted",children:[Object(r.jsxs)("p",{children:[Object(r.jsx)("span",{style:{fontSize:"25px",marginRight:"10px"},children:Object(r.jsx)(ce.b,{})}),n.phone]}),Object(r.jsxs)("p",{children:[Object(r.jsx)("span",{style:{fontSize:"25px",marginRight:"10px"},children:Object(r.jsx)(ce.b,{})}),n.mobile_phone]})]}),Object(r.jsx)("hr",{}),Object(r.jsxs)("div",{className:"d-flex align-items-center mb-2",children:[Object(r.jsx)("span",{style:{fontSize:"30px"},children:Object(r.jsx)(ve.a,{})}),Object(r.jsx)("h6",{className:"pl-3 pt-3",children:"Restaurant Status"})]}),Object(r.jsx)("button",{className:n.status?"btn success__status":"btn bg-orange",onClick:function(){return e.restaurantStatusClicked(n.status,n.uid)},children:n.status?"Enabled":"Disabled"}),Object(r.jsx)("hr",{}),Object(r.jsx)("div",{className:"d-flex align-items-center",children:Object(r.jsx)("h4",{className:"pt-1",children:"Dishes"})}),this.rendorDishses(),Object(r.jsx)("hr",{}),Object(r.jsx)("div",{className:"d-flex align-items-center",children:Object(r.jsx)("h4",{className:"pt-1",children:"Reviews"})}),this.rendorReviews()]})]})})}}]),a}(n.Component),ye=Object(h.f)(we),Ne=a(286),Se=a.p+"static/media/restauranticon.0842861c.png",ke=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={restaurents:[],loading:!0,limit:5,lastRestaurant:0},e.restaurantClicked=function(t){e.props.history.push("/restaurants/".concat(t))},e.editRestaurant=function(t){e.props.history.push("/restaurants/edit_restaurant/".concat(t))},e.delete=function(){var t=Object(m.a)(p.a.mark((function t(a){var r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.setState({loading:!0}),t.next=4,M(a);case 4:r=e.state.restaurents.filter((function(e){return e.restaurant_id!==a})),e.setState({loading:!1,restaurents:r}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),e.setState({loading:!1}),alert(t.t0.message);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),e.fetchMore=Object(m.a)(p.a.mark((function t(){var a,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,F(e.state.limit,e.state.lastRestaurant);case 3:a=t.sent,r=Object(fe.a)(e.state.restaurents),e.setState({restaurents:[].concat(Object(fe.a)(r),Object(fe.a)(a.restaurants)),loading:!1,lastRestaurant:a.lastRestaurant}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),e.setState({loading:!1}),alert(t.t0.message);case 12:case"end":return t.stop()}}),t,null,[[0,8]])}))),e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T(this.state.limit);case 3:t=e.sent,this.setState({restaurents:t.restaurants,loading:!1,lastRestaurant:t.lastRestaurant}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),this.setState({loading:!1}),alert(e.t0.message);case 11:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(r.jsx)(je,{children:this.state.loading?Object(r.jsx)(ne,{}):Object(r.jsxs)("div",{children:[Object(r.jsxs)("table",{className:"responsive__table mb-2",children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{children:"Image"}),Object(r.jsx)("th",{children:"Name"}),Object(r.jsx)("th",{children:"Address"}),Object(r.jsx)("th",{children:"Phone"}),Object(r.jsx)("th",{}),Object(r.jsx)("th",{}),Object(r.jsx)("th",{})]})}),Object(r.jsx)("tbody",{children:this.state.restaurents.map((function(t){return Object(r.jsxs)("tr",{className:"table-list-item",children:[Object(r.jsx)("td",{"data-label":"Image",children:Object(r.jsx)("img",{style:{width:100,height:70,borderRadius:5,objectFit:"cover"},src:t.image,alt:""})}),Object(r.jsx)("td",{"data-label":"Name",children:t.name}),Object(r.jsx)("td",{"data-label":"Address",className:"control-text",children:t.address}),Object(r.jsx)("td",{"data-label":"Phone",className:"control-text",children:t.phone}),Object(r.jsx)("td",{"data-label":"Edit",children:Object(r.jsx)("button",{className:"btn btn-success",onClick:function(){return e.editRestaurant(t.restaurant_id)},children:"Edit"})}),Object(r.jsx)("td",{"data-label":"Delete",children:Object(r.jsx)("button",{className:"btn bg-orange",onClick:function(){return e.delete(t.restaurant_id)},children:"Delete"})}),Object(r.jsx)("td",{"data-label":"Details",style:{fontSize:"25px"},onClick:function(){return e.restaurantClicked(t.restaurant_id)},children:Object(r.jsx)(oe.a,{})})]},t.restaurant_id)}))})]}),Object(r.jsx)(j.b,{to:"/restaurants/new_restaurant/add",className:"add__restaurant__button",children:Object(r.jsx)("img",{src:Se,alt:""})}),Object(r.jsx)("div",{className:"text-center pb-3",children:Object(r.jsx)("button",{onClick:this.fetchMore,className:"btn btn-primary px-3",children:Object(r.jsx)(Ne.a,{})})})]})})}}]),a}(n.Component),Ce=Object(h.f)(ke),_e=a(26),De=a.p+"static/media/placeholderimage.09cb794a.png",Ee=function(e){var t=e.name,a=e.label,n=e.error,s=Object(ee.a)(e,["name","label","error"]);return Object(r.jsxs)("div",{className:"form-group row",children:[Object(r.jsx)("label",{htmlFor:t,className:"col-sm-2 font-weight-bold",children:a}),Object(r.jsxs)("div",{className:"col-sm-10",children:[Object(r.jsx)("input",Object(v.a)({id:t,name:t,className:"form-control"},s)),n&&Object(r.jsx)("span",{className:"error-message",children:n})]})]})},Re=a(15),Ie=a.n(Re),Ae=a(127),Me=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={selected:{lat:0,lng:0}},e.componentDidMount=function(){e.setState({selected:{lat:e.props.lat?e.props.lat:0,lng:e.props.lng?e.props.lng:0}})},e.mapclicked=function(t){e.setState({selected:{lat:t.latLng.lat(),lng:t.latLng.lng()}}),e.props.selectArea(e.state.selected)},e.map=function(){return Object(r.jsx)(Ae.GoogleMap,{defaultZoom:5,defaultCenter:{lat:e.state.selected.lat?e.state.selected.lat:-60.930432,lng:e.state.selected.lng?e.state.selected.lng:1.029414},onClick:e.mapclicked,children:Object(r.jsx)(Ae.Marker,{position:{lat:e.state.selected.lat?e.state.selected.lat:-60.930432,lng:e.state.selected.lng?e.state.selected.lng:1.029414}})})},e}return Object(o.a)(a,[{key:"render",value:function(){var e=Object(Ae.withScriptjs)(Object(Ae.withGoogleMap)(this.map));return Object(r.jsx)("div",{className:"mt-1 mb-4 mx-auto",children:Object(r.jsx)(e,{googleMapURL:"https://maps.googleapis.com/maps/api/js?key=AIzaSyB7qtP77Rx3HmirB5lyWJ90RYeMu4TVnyc&libraries=places",loadingElement:Object(r.jsx)("div",{style:{height:"100%"}}),containerElement:Object(r.jsx)("div",{style:{height:"350px"}}),mapElement:Object(r.jsx)("div",{style:{height:"100%"}})})})}}]),a}(n.Component),Pe=(a(115),a(146)),He=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={loading:!1,image:null,src:null,name:"",address:"",phone:"",mobile_phone:"",latitude:0,longitude:0,description:"",owner:"",openModal:!1,restaurantOwners:[],errors:{}},e.fileInputHandler=function(t){if(e.setState(Object(x.a)({},t.target.name,t.target.files[0])),t.target.files&&t.target.files.length>0){var a=new FileReader;a.addEventListener("load",(function(){return e.setState({src:a.result})})),a.readAsDataURL(t.target.files[0])}},e.restaurantSchema={name:Ie.a.string().required(),address:Ie.a.string().required(),phone:Ie.a.string().required(),mobile_phone:Ie.a.string().required(),description:Ie.a.string().required(),owner:Ie.a.string().required()},e.validateProperty=function(t){var a=t.name,r=t.value,n=Object(x.a)({},a,r),s=Object(x.a)({},a,e.restaurantSchema[a]),c=Ie.a.object(s).validate(n).error;return c?c.details[0].message:null},e.inputHandler=function(t){var a,r=Object(v.a)({},e.state.errors),n=e.validateProperty(t.target);n?r[t.target.name]=n:delete r[t.target.name],e.setState((a={},Object(x.a)(a,t.target.name,t.target.value),Object(x.a)(a,"errors",r),a))},e.validate=function(){var t=e.state,a={name:t.name,address:t.address,phone:t.phone,mobile_phone:t.mobile_phone,description:t.description,owner:t.owner},r=Ie.a.object(e.restaurantSchema).validate(a,{abortEarly:!1});if(!r.error)return null;var n,s={},c=Object(_e.a)(r.error.details);try{for(c.s();!(n=c.n()).done;){var i=n.value;s[i.path[0]]=i.message}}catch(l){c.e(l)}finally{c.f()}return s},e.register=function(){var t=Object(m.a)(p.a.mark((function t(a){var r,n,s,c,i,l,o,d,u,j,h,b;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),r=e.validate(),e.setState({errors:r||{}}),!r){t.next=5;break}return t.abrupt("return");case 5:if(null!==e.state.image){t.next=9;break}alert("Please select an image."),t.next=26;break;case 9:if(0!==e.state.latitude&&0!==e.state.longitude){t.next=13;break}alert("Please select location."),t.next=26;break;case 13:return n=e.state,s=n.src,c=n.image,i=n.name,l=n.address,o=n.phone,d=n.mobile_phone,u=n.latitude,j=n.longitude,h=n.description,b=n.owner,t.prev=14,e.setState({loading:!0}),t.next=18,I(s,c,i,l,o,d,u,j,h,b);case 18:e.setState({loading:!1}),e.props.history.push("/restaurants"),t.next=26;break;case 22:t.prev=22,t.t0=t.catch(14),e.setState({loading:!1}),alert(t.t0.message);case 26:case"end":return t.stop()}}),t,null,[[14,22]])})));return function(e){return t.apply(this,arguments)}}(),e.getCoords=function(t){e.setState({latitude:t.lat,longitude:t.lng})},e.setModal=function(){e.setState({openModal:!e.state.openModal})},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K();case 3:t=e.sent,this.setState({loading:!1,restaurantOwners:t}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),this.setState({loading:!1}),alert(e.t0.message);case 11:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(r.jsx)(je,{children:Object(r.jsx)("div",{children:this.state.loading?Object(r.jsx)(ne,{}):Object(r.jsxs)("div",{className:"vendor-card",children:[Object(r.jsx)("div",{className:"vendor-card-header",children:Object(r.jsx)("h5",{children:"Add New Restaurant"})}),Object(r.jsxs)("div",{className:"profile-image",children:[Object(r.jsx)("img",{src:this.state.src?this.state.src:De,alt:""}),Object(r.jsx)("div",{className:"form-group mt-2",children:Object(r.jsx)("input",{className:"btn",name:"image",accept:"image/*",onChange:this.fileInputHandler,type:"file"})})]}),Object(r.jsxs)("div",{className:"form-group row mt-3",children:[Object(r.jsx)("label",{htmlFor:"inputPassword",className:"col-sm-2 col-form-label font-weight-bold",children:"Select Owner:"}),Object(r.jsx)("div",{className:"col-sm-10",children:Object(r.jsxs)("select",{name:"owner",onChange:this.inputHandler,className:"form-control",children:[Object(r.jsx)("option",{children:"Select Restaurant Owner"}),this.state.restaurantOwners.map((function(e){return Object(r.jsx)("option",{value:e.user_id,children:e.first_name+" "+e.last_name},e.user_id)}))]})})]}),Object(r.jsx)(Ee,{name:"name",label:"Restaurant Name",onChange:this.inputHandler,error:this.state.errors.name,type:"text",placeholder:"Enter Restaurant Name"}),Object(r.jsx)(Ee,{name:"address",label:"Address",onChange:this.inputHandler,error:this.state.errors.address,type:"text",placeholder:"Enter Restaurant Address"}),Object(r.jsx)("div",{className:"text-center my-2",children:Object(r.jsx)("button",{onClick:this.setModal,className:"btn primary-button",children:"Select Location on Map"})}),Object(r.jsx)(Ee,{name:"phone",label:"Phone Number",onChange:this.inputHandler,error:this.state.errors.phone,type:"number",placeholder:"Enter Restaurant Phone Number"}),Object(r.jsx)(Ee,{name:"mobile_phone",label:"Mobile Number",onChange:this.inputHandler,error:this.state.errors.mobile_phone,type:"number",placeholder:"Enter Restaurant Mobile Number"}),Object(r.jsx)(Ee,{name:"description",label:"Description",onChange:this.inputHandler,error:this.state.errors.description,type:"text",placeholder:"Description"}),Object(r.jsx)(Pe.a,{open:this.state.openModal,onClose:this.setModal,children:Object(r.jsx)("div",{style:{width:"700px",marginTop:"30px"},children:Object(r.jsx)(Me,{selectArea:function(t){return e.getCoords(t)}})})}),Object(r.jsx)("div",{className:"btn-submit",children:Object(r.jsx)("button",{onClick:this.register,children:"Save"})})]})})})}}]),a}(n.Component),qe=Object(h.f)(He),Te=a.p+"static/media/profileImage.6b3ba5ae.png",Fe=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={loading:!1,openModal:!1,data:{id:"",image:null,src:null,name:"",address:"",phone:"",mobile_phone:"",latitude:0,longitude:0,description:"",owner:""},errors:{}},e.fileInputHandler=function(t){if(e.setState(Object(x.a)({},t.target.name,t.target.files[0])),t.target.files&&t.target.files.length>0){var a=new FileReader;a.addEventListener("load",(function(){var r=Object(v.a)({},e.state.data);r.src=a.result,r.image=t.target.files[0],e.setState({data:r})})),a.readAsDataURL(t.target.files[0])}},e.restaurantSchema={name:Ie.a.string().required(),address:Ie.a.string().required(),phone:Ie.a.string().required(),mobile_phone:Ie.a.string().required(),description:Ie.a.string().required()},e.validateProperty=function(t){var a=t.name,r=t.value,n=Object(x.a)({},a,r),s=Object(x.a)({},a,e.restaurantSchema[a]),c=Ie.a.object(s).validate(n).error;return c?c.details[0].message:null},e.inputHandler=function(t){var a=Object(v.a)({},e.state.errors),r=e.validateProperty(t.target);r?a[t.target.name]=r:delete a[t.target.name];var n=Object(v.a)({},e.state.data);n[t.target.name]=t.target.value,e.setState({data:n,errors:a})},e.validate=function(){var t=e.state.data,a={name:t.name,address:t.address,phone:t.phone,mobile_phone:t.mobile_phone,description:t.description},r=Ie.a.object(e.restaurantSchema).validate(a,{abortEarly:!1});if(!r.error)return null;var n,s={},c=Object(_e.a)(r.error.details);try{for(c.s();!(n=c.n()).done;){var i=n.value;s[i.path[0]]=i.message}}catch(l){c.e(l)}finally{c.f()}return s},e.register=function(){var t=Object(m.a)(p.a.mark((function t(a){var r,n,s,c,i,l,o,d,u,j,h,b,m;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),r=e.validate(),e.setState({errors:r||{}}),!r){t.next=5;break}return t.abrupt("return");case 5:if(null!==e.state.data.image||null!==e.state.data.src){t.next=9;break}alert("Please select an image."),t.next=26;break;case 9:if(0!==e.state.data.latitude&&0!==e.state.data.longitude){t.next=13;break}alert("Please select location."),t.next=26;break;case 13:return n=e.state.data,s=n.id,c=n.src,i=n.image,l=n.name,o=n.address,d=n.phone,u=n.mobile_phone,j=n.latitude,h=n.longitude,b=n.description,m=n.owner,t.prev=14,e.setState({loading:!0}),t.next=18,A(s,c,i,l,o,d,u,j,h,b,m);case 18:e.setState({loading:!1}),e.props.history.push("/restaurants"),t.next=26;break;case 22:t.prev=22,t.t0=t.catch(14),e.setState({loading:!1}),alert(t.t0.message);case 26:case"end":return t.stop()}}),t,null,[[14,22]])})));return function(e){return t.apply(this,arguments)}}(),e.getCoords=function(t){var a=Object(v.a)({},e.state.data);a.latitude=t.lat,a.longitude=t.lng,e.setState({data:a})},e.setModal=function(){e.setState({openModal:!e.state.openModal})},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;k.collection("restaurants").doc(t).get().then((function(t){var a=Object(v.a)({},e.state.data);a.id=t.data().restaurant_id,a.src=t.data().image,a.name=t.data().name,a.address=t.data().address,a.phone=t.data().phone,a.mobile_phone=t.data().mobile_phone,a.description=t.data().description,a.owner=t.data().owner,a.latitude=t.data().latitude,a.longitude=t.data().longitude,e.setState({data:a})})).catch((function(e){alert(e.message)}))}},{key:"render",value:function(){var e=this;return Object(r.jsx)(je,{children:Object(r.jsx)("div",{children:this.state.loading?Object(r.jsx)(ne,{}):Object(r.jsxs)("div",{className:"vendor-card",children:[Object(r.jsx)("div",{className:"vendor-card-header",children:Object(r.jsx)("h5",{children:"Edit Restaurant"})}),Object(r.jsxs)("div",{className:"profile-image mb-3",children:[Object(r.jsx)("img",{src:this.state.data.src?this.state.data.src:Te,alt:""}),Object(r.jsx)("div",{className:"form-group mt-2",children:Object(r.jsx)("input",{className:"btn",name:"image",accept:"image/*",onChange:this.fileInputHandler,type:"file"})})]}),Object(r.jsx)(Ee,{name:"name",label:"Restaurant Name",onChange:this.inputHandler,value:this.state.data.name,error:this.state.errors.name,type:"text",placeholder:"Enter Restaurant Name"}),Object(r.jsx)(Ee,{name:"address",label:"Address",onChange:this.inputHandler,value:this.state.data.address,error:this.state.errors.address,type:"text",placeholder:"Enter Restaurant Address"}),Object(r.jsx)("div",{className:"text-center my-2",children:Object(r.jsx)("button",{onClick:this.setModal,className:"btn primary-button",children:"Edit Location on Map"})}),Object(r.jsx)(Ee,{name:"phone",label:"Phone Number",onChange:this.inputHandler,value:this.state.data.phone,error:this.state.errors.phone,type:"number",placeholder:"Enter Restaurant Phone Number"}),Object(r.jsx)(Ee,{name:"mobile_phone",label:"Mobile Number",onChange:this.inputHandler,error:this.state.errors.mobile_phone,value:this.state.data.mobile_phone,type:"number",placeholder:"Enter Restaurant Mobile Number"}),Object(r.jsx)(Ee,{name:"description",label:"Description",onChange:this.inputHandler,value:this.state.data.description,error:this.state.errors.description,type:"text",placeholder:"Description"}),Object(r.jsx)(Pe.a,{open:this.state.openModal,onClose:this.setModal,children:Object(r.jsx)("div",{style:{width:"700px",marginTop:"30px"},children:Object(r.jsx)(Me,{selectArea:function(t){return e.getCoords(t)}})})}),Object(r.jsx)("div",{className:"btn-submit",children:Object(r.jsx)("button",{onClick:this.register,children:"Save"})})]})})})}}]),a}(n.Component),Qe=Object(h.f)(Fe),Le=a.p+"static/media/adddish.23e40412.svg",Je=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={dishes:[],restaurents:[],restaurent:null,loading:!0,name:""},e.handleChange=function(t){e.setState({restaurent:t.target.value})},e.dishClicked=function(t){e.props.history.push("/dishes/".concat(t))},e.delete=function(){var t=Object(m.a)(p.a.mark((function t(a){var r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({loading:!0}),t.prev=1,t.next=4,Z(a);case 4:r=e.state.dishes.filter((function(e){return e.id!==a})),e.setState({dishes:r,loading:!1}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),e.setState({loading:!1}),alert(t.t0.message);case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),e.editDish=function(t){e.props.history.push("/dishes/edit_dish/".concat(t))},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.prev=1,e.next=4,H();case 4:return t=e.sent,e.next=7,Y();case 7:a=e.sent,this.setState({dishes:a,restaurents:t,loading:!1}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),this.setState({loading:!1}),alert(e.t0.message);case 15:case"end":return e.stop()}}),e,this,[[1,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.dishes,n=t.restaurent,s=t.name,c=a;if(n&&(c=a.filter((function(e){return e.restaurant===n}))),s){var i=c.filter((function(t){return t.name&&t.name.toLowerCase().includes(e.state.name.toLowerCase(),0)}));c=i}return Object(r.jsx)(je,{children:this.state.loading?Object(r.jsx)(ne,{}):Object(r.jsxs)("div",{children:[Object(r.jsx)(j.b,{to:"/dishes/new_dish/add",className:"add__restaurant__button",children:Object(r.jsx)("img",{src:Le,alt:""})}),Object(r.jsx)("div",{className:"mt-3 px-2",children:Object(r.jsx)(pe,{label:"Select Resturant:",name:"restaurent",restaurants:this.state.restaurents,onChange:this.handleChange})}),Object(r.jsx)("div",{className:" mt-3 px-2",children:Object(r.jsx)(Ee,{label:"Search Dish:",name:"dish",placeholder:"Search Dish By Name",onChange:function(t){return e.setState({name:t.target.value})}})}),Object(r.jsxs)("table",{className:"responsive__table mb-2",children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{children:"Image"}),Object(r.jsx)("th",{children:"Name"}),Object(r.jsx)("th",{children:"Description"}),Object(r.jsx)("th",{children:"Price"}),Object(r.jsx)("th",{}),Object(r.jsx)("th",{}),Object(r.jsx)("th",{})]})}),Object(r.jsx)("tbody",{children:c.map((function(t){return Object(r.jsxs)("tr",{className:"table-list-item",children:[Object(r.jsx)("td",{"data-label":"Image",children:Object(r.jsx)("img",{style:{width:100,height:70,borderRadius:5,objectFit:"cover"},src:t.image,alt:""})}),Object(r.jsx)("td",{"data-label":"Name",children:t.name}),Object(r.jsx)("td",{"data-label":"Description",children:t.description.length>20?t.description.substring(0,20)+"...":t.description.substring(0,20)}),Object(r.jsx)("td",{"data-label":"Price",className:"control-text",children:t.price}),Object(r.jsx)("td",{"data-label":"Edit",children:Object(r.jsx)("button",{className:"btn btn-success",onClick:function(){return e.editDish(t.id)},children:"Edit"})}),Object(r.jsx)("td",{"data-label":"Delete",children:Object(r.jsx)("button",{className:"btn bg-orange",onClick:function(){return e.delete(t.id)},children:"Delete"})}),Object(r.jsx)("td",{"data-label":"Details",style:{fontSize:"25px"},onClick:function(){return e.dishClicked(t.id)},children:Object(r.jsx)(oe.a,{})})]},t.id)}))})]})]})})}}]),a}(n.Component),Ue=Object(h.f)(Je),ze=a.p+"static/media/vegetarian.84b9f6d9.svg",Ye=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={dish:null,loading:!0,user_reviews:[],restaurant:null},e.getRating=function(){var t=0,a=0,r=e.state.user_reviews;return r.length>0&&r.map((function(e,r){return a=r+1,t+=parseFloat(e.stars)})),"NaN"===(t/a).toString()?0:t/a},e.rendorReviews=function(){var t=e.state.user_reviews;return t.length>0?t.map((function(e){return Object(r.jsxs)("div",{className:"singal__review",children:[Object(r.jsx)("img",{src:e.user_image,className:"rounded-circle",alt:""}),Object(r.jsxs)("div",{className:"pl-2 pt-3",children:[Object(r.jsxs)("div",{className:"d-flex align-items-center",children:[Object(r.jsx)("h6",{className:"font-weight-bold pt-2 pr-2",children:e.user_name}),Object(r.jsxs)("span",{children:[Object(r.jsx)("i",{style:{color:"#f0ad4e"},className:"fa fa-star pr-2"}),e.stars]})]}),Object(r.jsx)("p",{children:e.review})]})]})})):Object(r.jsx)("h5",{className:"d-flex justify-content-center align-items-center",children:Object(r.jsx)("span",{children:"There is no reviews"})})},e.rendorIngredients=function(e){return e.split(",").map((function(e,t){return Object(r.jsx)("li",{className:"pl-5",children:e},t)}))},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(p.a.mark((function e(){var t,a,r,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.id,e.prev=1,e.next=4,B(t);case 4:return a=e.sent,e.next=7,G(t);case 7:return r=e.sent,e.next=10,q(a.restaurant);case 10:n=e.sent,this.setState({dish:a,loading:!1,user_reviews:r,restaurant:n}),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),this.setState({loading:!1}),alert(e.t0.message);case 18:case"end":return e.stop()}}),e,this,[[1,14]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.loading,a=e.dish,n=e.restaurant;return Object(r.jsx)(je,{children:t?Object(r.jsx)(ne,{}):Object(r.jsxs)("div",{className:"singal__restaurant mb-5",children:[Object(r.jsx)("img",{src:a.image,alt:""}),Object(r.jsxs)("div",{className:"pl-4  pt-4",children:[Object(r.jsxs)("div",{className:"d-flex align-items-center",children:[Object(r.jsx)("span",{style:{fontSize:"30px"},children:Object(r.jsx)(de.b,{})}),Object(r.jsx)("h3",{className:"pt-3 pl-2",children:a.name})]}),Object(r.jsx)("div",{className:"d-flex align-items-center pt-2",children:Object(r.jsxs)("p",{children:[Object(r.jsx)("span",{className:"font-weight-bold pr-2",children:" Category Name:"}),a.menu]})}),Object(r.jsx)("div",{className:"d-flex align-items-center",children:Object(r.jsxs)("p",{children:[Object(r.jsx)("span",{className:"font-weight-bold pr-2",children:"Restaurant Name:"}),n?n.name:"Restaurant Deleted"]})}),Object(r.jsx)("p",{className:"text-muted",children:a.description}),Object(r.jsxs)("p",{children:[Object(r.jsx)("span",{style:{fontSize:"25px"},children:Object(r.jsx)(ce.a,{})}),a.price]}),Object(r.jsx)("hr",{}),Object(r.jsx)(ge,{productRating:this.getRating(),totalReviews:this.state.user_reviews.length}),Object(r.jsx)("hr",{}),Object(r.jsxs)("div",{className:"d-flex align-items-center",children:[Object(r.jsx)("img",{src:ze,style:{width:"30px",height:"30px"},alt:""}),Object(r.jsx)("h5",{className:"pl-3 pt-2 font-weight-bold",children:"Ingredients"})]}),Object(r.jsx)("ul",{className:"list-group",children:this.rendorIngredients(a.ingredient)}),Object(r.jsx)("hr",{}),Object(r.jsxs)("div",{className:"d-flex align-items-center mb-2",children:[Object(r.jsx)("span",{style:{fontSize:"30px"},children:Object(r.jsx)(le.b,{})}),Object(r.jsx)("h5",{className:"pl-3 pt-3 font-weight-bold",children:"Contact Information"})]}),Object(r.jsxs)("div",{className:"text-muted",children:[Object(r.jsxs)("p",{children:[Object(r.jsx)("span",{style:{fontSize:"25px",marginRight:"10px"},children:Object(r.jsx)(ce.b,{})}),n.mobile_phone]}),Object(r.jsxs)("p",{children:[Object(r.jsx)("span",{style:{fontSize:"25px",marginRight:"10px"},children:Object(r.jsx)(ce.b,{})}),n.mobile_phone]})]}),Object(r.jsx)("hr",{}),Object(r.jsx)("div",{className:"d-flex align-items-center",children:Object(r.jsx)("h4",{className:"pt-1 font-weight-bold",children:"Reviews"})}),this.rendorReviews()]})]})})}}]),a}(n.Component),Be=Object(h.f)(Ye),We=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={name:"",categories:[],loading:!1},e.inputHandler=function(t){e.setState({name:t.target.value})},e.addCategory=Object(m.a)(p.a.mark((function t(){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==e.state.name){t.next=4;break}alert("Category Name is required."),t.next=18;break;case 4:return e.setState({loading:!0}),t.prev=5,t.next=8,Q(e.state.name);case 8:return t.next=10,L();case 10:a=t.sent,e.setState({categories:a,loading:!1}),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(5),e.setState({loading:!1}),alert(t.t0.message);case 18:case"end":return t.stop()}}),t,null,[[5,14]])}))),e.delete=function(){var t=Object(m.a)(p.a.mark((function t(a){var r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({loading:!0}),t.prev=1,t.next=4,J(a);case 4:r=e.state.categories.filter((function(e){return e.uid!==a})),e.setState({categories:r,loading:!1}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),e.setState({loading:!1}),alert(t.t0.message);case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,L();case 3:t=e.sent,this.setState({categories:t,loading:!1});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(r.jsx)(je,{children:this.state.loading?Object(r.jsx)(ne,{}):Object(r.jsxs)("div",{className:"categories",children:[Object(r.jsx)("div",{className:"text-center my-3",children:Object(r.jsx)("h2",{children:"Add New Category"})}),Object(r.jsx)("div",{children:Object(r.jsx)(Ee,{name:"name",label:"Category Name",onChange:this.inputHandler,type:"text",placeholder:"Enter Category Name"})}),Object(r.jsx)("div",{className:"text-center",children:Object(r.jsxs)("button",{onClick:this.addCategory,className:"btn primary-button px-5",children:["Add Category"," "]})}),Object(r.jsxs)("table",{className:"responsive__table mt-3",children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{scope:"col",children:"Category Name"}),Object(r.jsx)("th",{scope:"col"})]})}),Object(r.jsx)("tbody",{children:this.state.categories.map((function(t){return Object(r.jsxs)("tr",{className:"table-list-item",children:[Object(r.jsx)("td",{"data-label":"Category Name",children:t.name}),Object(r.jsx)("td",{"data-label":"Delete",children:Object(r.jsx)("div",{className:"d-flex justify-content-end",children:Object(r.jsx)("i",{className:"fa fa-trash",onClick:function(){return e.delete(t.uid)}})})})]},t.uid)}))})]})]})})}}]),a}(n.Component),Ze=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={loading:!1,image:null,src:null,name:"",price:"",ingredient:"",menu:"",discount_price:"",description:"",restaurant:"",categories:[],restaurants:[],errors:{}},e.fileInputHandler=function(t){if(e.setState(Object(x.a)({},t.target.name,t.target.files[0])),t.target.files&&t.target.files.length>0){var a=new FileReader;a.addEventListener("load",(function(){return e.setState({src:a.result})})),a.readAsDataURL(t.target.files[0])}},e.dishSchema={name:Ie.a.string().required(),description:Ie.a.string().required(),discount_price:Ie.a.string().required(),price:Ie.a.string().required(),ingredient:Ie.a.string().required(),menu:Ie.a.string().required(),restaurant:Ie.a.string().required()},e.validateProperty=function(t){var a=t.name,r=t.value,n=Object(x.a)({},a,r),s=Object(x.a)({},a,e.dishSchema[a]),c=Ie.a.object(s).validate(n).error;return c?c.details[0].message:null},e.inputHandler=function(t){var a,r=Object(v.a)({},e.state.errors),n=e.validateProperty(t.target);n?r[t.target.name]=n:delete r[t.target.name],e.setState((a={},Object(x.a)(a,t.target.name,t.target.value),Object(x.a)(a,"errors",r),a))},e.validate=function(){var t=e.state,a={name:t.name,description:t.description,discount_price:t.discount_price,price:t.price,ingredient:t.ingredient,restaurant:t.restaurant,menu:t.menu},r=Ie.a.object(e.dishSchema).validate(a,{abortEarly:!1});if(!r.error)return null;var n,s={},c=Object(_e.a)(r.error.details);try{for(c.s();!(n=c.n()).done;){var i=n.value;s[i.path[0]]=i.message}}catch(l){c.e(l)}finally{c.f()}return s},e.create=function(){var t=Object(m.a)(p.a.mark((function t(a){var r,n,s,c,i,l,o,d,u,j;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),r=e.validate(),e.setState({errors:r||{}}),!r){t.next=5;break}return t.abrupt("return");case 5:if(null!==e.state.image){t.next=9;break}alert("Please select an image."),t.next=22;break;case 9:return n=e.state,s=n.image,c=n.name,i=n.description,l=n.discount_price,o=n.price,d=n.ingredient,u=n.menu,j=n.restaurant,t.prev=10,e.setState({loading:!0}),t.next=14,U(s,c,i,l,o,d,u,j);case 14:e.setState({loading:!1}),e.props.history.push("/dishes"),t.next=22;break;case 18:t.prev=18,t.t0=t.catch(10),e.setState({loading:!1}),alert(t.t0.message);case 22:case"end":return t.stop()}}),t,null,[[10,18]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L();case 3:return t=e.sent,e.next=6,H();case 6:a=e.sent,this.setState({categories:t,restaurants:a}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),alert(e.t0.message);case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(r.jsx)(je,{children:Object(r.jsx)("div",{children:this.state.loading?Object(r.jsx)(ne,{}):Object(r.jsxs)("div",{className:"vendor-card",children:[Object(r.jsx)("div",{className:"vendor-card-header",children:Object(r.jsx)("h5",{children:"Add New Dish"})}),Object(r.jsxs)("div",{className:"profile-image my-4",children:[Object(r.jsx)("img",{src:this.state.src?this.state.src:De,alt:""}),Object(r.jsx)("div",{className:"form-group mt-2",children:Object(r.jsx)("input",{name:"image",accept:"image/*",onChange:this.fileInputHandler,type:"file"})})]}),Object(r.jsx)(Ee,{name:"name",label:"Dish Name",onChange:this.inputHandler,error:this.state.errors.name,type:"text",placeholder:"Enter Dish Name"}),Object(r.jsxs)("div",{className:"form-group row my-2",children:[Object(r.jsx)("label",{htmlFor:"inputPassword",className:"col-sm-2 col-form-label",children:"Select Resturant:"}),Object(r.jsx)("div",{className:"col-sm-10",children:Object(r.jsxs)("select",{name:"restaurant",onChange:this.inputHandler,className:"form-control",children:[Object(r.jsx)("option",{children:"Search Restaurant"}),this.state.restaurants.map((function(e){return Object(r.jsx)("option",{value:e.restaurant_id,children:e.name},e.restaurant_id)}))]})}),this.state.errors.restaurant&&Object(r.jsx)("span",{className:"error-message",children:this.state.errors.restaurant})]}),Object(r.jsx)(Ee,{name:"price",label:"Price",onChange:this.inputHandler,error:this.state.errors.price,type:"number",placeholder:"Enter Price of Dish."}),Object(r.jsx)(Ee,{name:"discount_price",label:"Discount Price",onChange:this.inputHandler,error:this.state.errors.discount_price,type:"number",placeholder:"Enter Discount Price"}),Object(r.jsx)(Ee,{name:"ingredient",label:"Ingradients",onChange:this.inputHandler,error:this.state.errors.ingredient,type:"text",placeholder:"Enter Ingradients"}),Object(r.jsxs)("div",{className:"form-group row my-2",children:[Object(r.jsx)("label",{htmlFor:"inputPassword",className:"col-sm-2 col-form-label",children:"Select Menu:"}),Object(r.jsx)("div",{className:"col-sm-10",children:Object(r.jsxs)("select",{name:"menu",onChange:this.inputHandler,className:"form-control",children:[" ",Object(r.jsx)("option",{children:"Search Menu"}),this.state.categories.map((function(e){return Object(r.jsx)("option",{value:e.name,children:e.name},e.name)}))]})}),this.state.errors.ingredient&&Object(r.jsx)("span",{className:"error-message",children:this.state.errors.ingredient})]}),Object(r.jsx)(Ee,{name:"description",label:"Description",onChange:this.inputHandler,error:this.state.errors.description,type:"text",placeholder:"Description"}),Object(r.jsx)("div",{className:"btn-submit",children:Object(r.jsx)("button",{onClick:this.create,children:"Save"})})]})})})}}]),a}(n.Component),Ge=Object(h.f)(Ze),Ve=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={loading:!1,data:{id:"",image:null,src:null,name:"",price:"",ingredient:"",menu:"",discount_price:"",description:"",restaurant:""},categories:[],restaurants:[],errors:{}},e.fileInputHandler=function(t){if(t.target.files&&t.target.files.length>0){var a=new FileReader;a.addEventListener("load",(function(){var r=Object(v.a)({},e.state.data);r.src=a.result,r.image=t.target.files[0],e.setState({data:r})})),a.readAsDataURL(t.target.files[0])}},e.dishSchema={name:Ie.a.string().required(),description:Ie.a.string().required(),discount_price:Ie.a.string().required(),price:Ie.a.string().required(),ingredient:Ie.a.string().required(),menu:Ie.a.string().required(),restaurant:Ie.a.string().required()},e.validateProperty=function(t){var a=t.name,r=t.value,n=Object(x.a)({},a,r),s=Object(x.a)({},a,e.dishSchema[a]),c=Ie.a.object(s).validate(n).error;return c?c.details[0].message:null},e.inputHandler=function(t){var a=Object(v.a)({},e.state.errors),r=e.validateProperty(t.target);r?a[t.target.name]=r:delete a[t.target.name];var n=Object(v.a)({},e.state.data);n[t.target.name]=t.target.value,e.setState({data:n,errors:a})},e.validate=function(){var t=e.state.data,a={name:t.name,description:t.description,discount_price:t.discount_price,price:t.price,ingredient:t.ingredient,menu:t.menu,restaurant:t.restaurant},r=Ie.a.object(e.dishSchema).validate(a,{abortEarly:!1});if(!r.error)return null;var n,s={},c=Object(_e.a)(r.error.details);try{for(c.s();!(n=c.n()).done;){var i=n.value;s[i.path[0]]=i.message}}catch(l){c.e(l)}finally{c.f()}return s},e.editDishData=function(){var t=Object(m.a)(p.a.mark((function t(a){var r,n,s,c,i,l,o,d,u,j,h,b;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),r=e.validate(),e.setState({errors:r||{}}),!r){t.next=5;break}return t.abrupt("return");case 5:if(null!==e.state.image){t.next=9;break}alert("Please select an image."),t.next=22;break;case 9:return n=e.state.data,s=n.id,c=n.src,i=n.image,l=n.name,o=n.description,d=n.discount_price,u=n.price,j=n.ingredient,h=n.menu,b=n.restaurant,t.prev=10,e.setState({loading:!0}),t.next=14,z(s,c,i,l,o,d,u,j,h,b);case 14:e.setState({loading:!1}),e.props.history.push("/dishes"),t.next=22;break;case 18:t.prev=18,t.t0=t.catch(10),e.setState({loading:!1}),alert(t.t0.message);case 22:case"end":return t.stop()}}),t,null,[[10,18]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(p.a.mark((function e(){var t,a,r,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.prev=1,e.next=4,B(this.props.match.params.id);case 4:return t=e.sent,e.next=7,L();case 7:return a=e.sent,e.next=10,H();case 10:r=e.sent,(n=Object(v.a)({},this.state.data)).id=t.id,n.src=t.image,n.name=t.name,n.price=t.price,n.ingredient=t.ingredient,n.menu=t.menu,n.restaurant=t.restaurant,n.discount_price=t.discount_price,n.description=t.description,this.setState({categories:a,restaurants:r,data:n,loading:!1}),e.next=28;break;case 24:e.prev=24,e.t0=e.catch(1),this.setState({loading:!1}),alert(e.t0.message);case 28:case"end":return e.stop()}}),e,this,[[1,24]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(r.jsx)(je,{children:Object(r.jsx)("div",{children:this.state.loading?Object(r.jsx)(ne,{}):Object(r.jsxs)("div",{className:"vendor-card",children:[Object(r.jsx)("div",{className:"vendor-card-header",children:Object(r.jsx)("h5",{children:"Edit Dish"})}),Object(r.jsxs)("div",{className:"profile-image my-4",children:[Object(r.jsx)("img",{src:this.state.data.src?this.state.data.src:"data:image/png;base64,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",alt:""}),Object(r.jsx)("div",{className:"form-group mt-2",children:Object(r.jsx)("input",{name:"image",accept:"image/*",onChange:this.fileInputHandler,type:"file"})})]}),Object(r.jsx)(Ee,{name:"name",label:"Dish Name",onChange:this.inputHandler,error:this.state.errors.name,value:this.state.data.name,type:"text",placeholder:"Enter Dish Name"}),Object(r.jsxs)("div",{className:"form-group row my-2",children:[Object(r.jsx)("label",{htmlFor:"inputPassword",className:"col-sm-2 col-form-label",children:"Select Resturant:"}),Object(r.jsx)("div",{className:"col-sm-10",children:Object(r.jsxs)("select",{name:"restaurant",onChange:this.inputHandler,className:"form-control",children:[Object(r.jsx)("option",{children:"Search Restaurant"}),this.state.restaurants.map((function(e){return Object(r.jsx)("option",{value:e.restaurant_id,children:e.name},e.restaurant_id)}))]})}),this.state.errors.restaurant&&Object(r.jsx)("span",{className:"error-message",children:this.state.errors.restaurant})]}),Object(r.jsx)(Ee,{name:"price",label:"Price",onChange:this.inputHandler,error:this.state.errors.price,value:this.state.data.price,type:"number",placeholder:"Enter Price of Dish."}),Object(r.jsx)(Ee,{name:"discount_price",label:"Discount Price",onChange:this.inputHandler,error:this.state.errors.discount_price,value:this.state.data.discount_price,type:"number",placeholder:"Enter Discount Price"}),Object(r.jsx)(Ee,{name:"ingredient",label:"Ingredient",onChange:this.inputHandler,error:this.state.errors.ingredient,value:this.state.data.ingredient,type:"text",placeholder:"Enter Ingradient"}),Object(r.jsxs)("div",{className:"form-group row my-2",children:[Object(r.jsx)("label",{htmlFor:"inputPassword",className:"col-sm-2 col-form-label",children:"Select Menu:"}),Object(r.jsx)("div",{className:"col-sm-10",children:Object(r.jsxs)("select",{name:"ingredient",onChange:this.inputHandler,className:"form-control",children:[Object(r.jsx)("option",{children:"Search Menu"}),this.state.categories.map((function(e){return Object(r.jsx)("option",{value:e.name,children:e.name},e.name)}))]})}),this.state.errors.ingredient&&Object(r.jsx)("span",{className:"error-message",children:this.state.errors.ingredient})]}),Object(r.jsx)(Ee,{name:"description",label:"Description",onChange:this.inputHandler,error:this.state.errors.description,value:this.state.data.description,type:"text",placeholder:"Description"}),Object(r.jsx)("div",{className:"btn-submit",children:Object(r.jsx)("button",{onClick:this.editDishData,children:"Save Changes"})})]})})})}}]),a}(n.Component),Ke=Object(h.f)(Ve),Xe=function(e){var t=e.title,a=e.value,n=e.bgcolor;return Object(r.jsx)("div",{className:"col-md-6",children:Object(r.jsxs)("div",{className:"dash__card ".concat(n),children:[Object(r.jsx)("p",{className:"font-weight-bold",children:a}),Object(r.jsx)("span",{className:"font-weight-bold",children:t})]})})},$e=a(570),et=a(568),tt=a(567),at=a(299),rt=a(300),nt=a(154),st=a(302),ct=a(125),it=function(e){var t=e.orders,a=["January","February","March","April","May","June","July","August","September","October","November","December"],n=[];return t.forEach((function(e){var t=new Date(e.date),r=n.findIndex((function(e){return e.name===a[t.getMonth()]+" "+t.getFullYear()}));r>=0?n[r].Revenue=n[r].Revenue+parseInt(e.total_price):n.push({name:a[t.getMonth()]+" "+t.getFullYear(),Revenue:parseInt(e.total_price)})})),Object(r.jsxs)("div",{className:"my-5 text-center",children:[Object(r.jsx)("h3",{className:"my-2",children:"Total Revenue"}),Object(r.jsx)($e.a,{width:"95%",height:400,children:Object(r.jsxs)(et.a,{width:900,height:400,data:n,margin:{right:30,left:20,bottom:5},children:[Object(r.jsx)(tt.a,{strokeDasharray:"3 3"}),Object(r.jsx)(at.a,{dataKey:"name"}),Object(r.jsx)(rt.a,{}),Object(r.jsx)(nt.a,{}),Object(r.jsx)(st.a,{type:"monotone",dataKey:"Revenue",stroke:"#17a2b8",strokeWidth:"3",activeDot:{r:10}}),Object(r.jsx)(ct.a,{margin:{top:40}})]})})]})},lt=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={loading:!1,orders:[],restaurants:0,dishes:0},e.getEarnings=function(e){var t=0;return e.forEach((function(e){t+=parseInt(e.total_price)})),t},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(p.a.mark((function e(){var t,a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.prev=1,e.next=4,V();case 4:return t=e.sent,e.next=7,H();case 7:return a=e.sent,e.next=10,Y();case 10:r=e.sent,this.setState({orders:t,restaurants:a.length,dishes:r.length,loading:!1}),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),this.setState({loading:!1}),alert(e.t0.message);case 18:case"end":return e.stop()}}),e,this,[[1,14]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(r.jsx)(je,{children:this.state.loading?Object(r.jsx)(ne,{}):Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"text-center mt-2 mb-3",children:Object(r.jsx)("h3",{children:"Dashboard"})}),Object(r.jsxs)("div",{className:"row",children:[Object(r.jsx)(Xe,{title:"Total Earnings",value:"$"+this.getEarnings(this.state.orders),bgcolor:"bg-purple"}),Object(r.jsx)(Xe,{title:"Orders",value:this.state.orders.length,bgcolor:"bg-orange"})]}),Object(r.jsxs)("div",{className:"row",children:[Object(r.jsx)(Xe,{title:"Total Restaurants",value:this.state.restaurants,bgcolor:"bg-green"}),Object(r.jsx)(Xe,{title:"Total Dishes",value:this.state.dishes,bgcolor:"bg-blue"})]}),Object(r.jsx)(it,{orders:this.state.orders})]})})}}]),a}(n.Component),ot=(a(559),function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={title:"",body:""},e.inputHandler=function(t){e.setState(Object(x.a)({},t.target.name,t.target.value))},e.sendNotification=function(){},e}return Object(o.a)(a,[{key:"render",value:function(){return Object(r.jsx)(je,{children:Object(r.jsxs)("div",{className:"notifcations",children:[Object(r.jsx)("div",{className:"notifcation-title",children:Object(r.jsx)("h3",{className:"font-weight-bold",children:"Notification"})}),Object(r.jsx)(Ee,{name:"title",label:"Title",onChange:this.inputHandler,type:"text",placeholder:"Enter notification Title"}),Object(r.jsxs)("div",{className:"form-group row",children:[Object(r.jsx)("label",{htmlFor:"exampleFormControlTextarea1",className:"col-sm-2 font-weight-bold",children:"Body"}),Object(r.jsx)("div",{className:"col-sm-10",children:Object(r.jsx)("textarea",{className:"form-control",id:"exampleFormControlTextarea1",placeholder:"Enter body of notification...",name:"body",onChange:this.inputHandler,rows:"6"})})]}),Object(r.jsx)("div",{className:"send-notification",children:Object(r.jsx)("button",{onClick:this.sendNotification,className:"btn btn-notification",children:"Send Notification"})})]})})}}]),a}(n.Component)),dt=function(e){var t=e.Icon,a=void 0===t?null:t,n=e.label,s=Object(ee.a)(e,["Icon","label"]);return Object(r.jsxs)("button",Object(v.a)(Object(v.a)({},s),{},{children:[a&&Object(r.jsx)("span",{style:{fontSize:"25px"},children:Object(r.jsx)(a,{})}),Object(r.jsx)("span",{className:"ml-1",children:n})]}))},ut=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={loading:!1,firstName:"",owners:[]},e.createRestaurantOwner=function(){e.props.history.push("/restaurant-owners/add")},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.prev=1,e.next=4,K();case 4:t=e.sent,this.setState({loading:!1,owners:t}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),this.setState({loading:!1}),alert(e.t0.message);case 12:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.loading,n=t.owners,s=n;return""!==t.firstName&&(s=n.filter((function(t){return t.first_name&&t.first_name.toLowerCase().includes(e.state.firstName.toLowerCase(),0)}))),Object(r.jsx)(je,{children:a?Object(r.jsx)(ne,{}):Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{className:"row",children:[Object(r.jsx)("div",{className:"col-md-8 mt-2",children:Object(r.jsx)(Ee,{label:"Search Owner:",name:"firstname",placeholder:"Search Owner By First Name",onChange:function(t){return e.setState({firstName:t.target.value})}})}),Object(r.jsx)("div",{className:"col-md-4",children:Object(r.jsx)(dt,{Icon:ie.c,label:" Create Restaurant Owner",className:"btn btn-outline-primary btn-block mb-3",onClick:this.createRestaurantOwner})})]}),Object(r.jsxs)("table",{className:"responsive__table mb-5",children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{children:"Image"}),Object(r.jsx)("th",{children:"Name"}),Object(r.jsx)("th",{children:"Email"}),Object(r.jsx)("th",{children:"Phone"})]})}),Object(r.jsx)("tbody",{children:s.map((function(e){return Object(r.jsxs)("tr",{className:"table-list-item",children:[Object(r.jsx)("td",{"data-label":"Image",children:Object(r.jsx)("img",{style:{width:40,height:40,borderRadius:50,objectFit:"cover"},src:e.profile_image,alt:""})}),Object(r.jsx)("td",{"data-label":"Name",children:e.first_name+" "+e.last_name}),Object(r.jsx)("td",{"data-label":"Email",className:"control-text",children:e.email}),Object(r.jsx)("td",{"data-label":"Email",className:"control-text",children:e.phone})]},e.user_id)}))})]})]})})}}]),a}(n.Component),jt=Object(h.f)(ut),ht=a.p+"static/media/profile.435231d3.png",bt=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={loading:!1,image:null,src:null,first_name:"",last_name:"",phone:"",email:"",password:"",errors:{}},e.fileInputHandler=function(t){if(e.setState(Object(x.a)({},t.target.name,t.target.files[0])),t.target.files&&t.target.files.length>0){var a=new FileReader;a.addEventListener("load",(function(){return e.setState({src:a.result})})),a.readAsDataURL(t.target.files[0])}},e.ownerSchema={first_name:Ie.a.string().required(),last_name:Ie.a.string().required(),phone:Ie.a.string().required(),email:Ie.a.string().required(),password:Ie.a.string().min(6).required()},e.validateProperty=function(t){var a=t.name,r=t.value,n=Object(x.a)({},a,r),s=Object(x.a)({},a,e.ownerSchema[a]),c=Ie.a.object(s).validate(n).error;return c?c.details[0].message:null},e.inputHandler=function(t){var a,r=Object(v.a)({},e.state.errors),n=e.validateProperty(t.target);n?r[t.target.name]=n:delete r[t.target.name],e.setState((a={},Object(x.a)(a,t.target.name,t.target.value),Object(x.a)(a,"errors",r),a))},e.validate=function(){var t=e.state,a={first_name:t.first_name,last_name:t.last_name,phone:t.phone,email:t.email,password:t.password},r=Ie.a.object(e.ownerSchema).validate(a,{abortEarly:!1});if(!r.error)return null;var n,s={},c=Object(_e.a)(r.error.details);try{for(c.s();!(n=c.n()).done;){var i=n.value;s[i.path[0]]=i.message}}catch(l){c.e(l)}finally{c.f()}return s},e.create=function(){var t=Object(m.a)(p.a.mark((function t(a){var r,n,s,c,i,l,o,d;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),r=e.validate(),e.setState({errors:r||{}}),!r){t.next=5;break}return t.abrupt("return");case 5:if(null!==e.state.image){t.next=9;break}alert("Please select an image."),t.next=22;break;case 9:return n=e.state,s=n.image,c=n.first_name,i=n.last_name,l=n.phone,o=n.email,d=n.password,t.prev=10,e.setState({loading:!0}),t.next=14,$(s,c,i,l,o,d);case 14:e.setState({loading:!1}),e.props.history.push("/restaurant-owners"),t.next=22;break;case 18:t.prev=18,t.t0=t.catch(10),e.setState({loading:!1}),alert(t.t0.message);case 22:case"end":return t.stop()}}),t,null,[[10,18]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(o.a)(a,[{key:"render",value:function(){return Object(r.jsx)(je,{children:Object(r.jsx)("div",{children:this.state.loading?Object(r.jsx)(ne,{}):Object(r.jsxs)("div",{className:"vendor-card",children:[Object(r.jsx)("div",{className:"vendor-card-header",children:Object(r.jsx)("h5",{children:"Create New Restaurant Owner"})}),Object(r.jsxs)("div",{className:"d-flex flex-column justify-content-center align-items-center",children:[Object(r.jsx)("div",{className:"profile-image",children:Object(r.jsx)("img",{src:this.state.src?this.state.src:ht,alt:""})}),Object(r.jsx)("div",{className:"form-group mt-2",children:Object(r.jsx)("input",{className:"btn btn-primary",name:"image",accept:"image/*",onChange:this.fileInputHandler,type:"file"})})]}),Object(r.jsx)(Ee,{name:"first_name",label:"First Name",onChange:this.inputHandler,error:this.state.errors.first_name,type:"text",placeholder:"Enter First Name"}),Object(r.jsx)(Ee,{name:"last_name",label:"Last Name",onChange:this.inputHandler,error:this.state.errors.last_name,type:"text",placeholder:"Enter Last Name"}),Object(r.jsx)(Ee,{name:"phone",label:"Phone Number",onChange:this.inputHandler,error:this.state.errors.phone,type:"number",placeholder:"Enter Phone Number"}),Object(r.jsx)(Ee,{name:"email",label:"Email",onChange:this.inputHandler,error:this.state.errors.email,type:"email",placeholder:"Enter Your Email"}),Object(r.jsx)(Ee,{name:"password",label:"Password",onChange:this.inputHandler,error:this.state.errors.password,type:"password",placeholder:"Enter Password"}),Object(r.jsx)("div",{className:"btn-submit",children:Object(r.jsx)("button",{onClick:this.create,children:"Sumbit Registration"})})]})})})}}]),a}(n.Component),pt=Object(h.f)(bt),mt=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={admin:null},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("admin");"undefined"!==e&&this.setState({admin:e})}},{key:"render",value:function(){return this.state.admin?Object(r.jsx)(j.a,{children:Object(r.jsxs)(h.c,{children:[Object(r.jsx)(h.a,{exact:!0,path:"/food-app",children:Object(r.jsx)(lt,{})}),Object(r.jsx)(h.a,{exact:!0,path:"/restaurant-owners",children:Object(r.jsx)(jt,{})}),Object(r.jsx)(h.a,{exact:!0,path:"/restaurant-owners/add",children:Object(r.jsx)(pt,{})}),Object(r.jsx)(h.a,{exact:!0,path:"/orders",children:Object(r.jsx)(Oe,{})}),Object(r.jsx)(h.a,{exact:!0,path:"/order/:id",children:Object(r.jsx)(be,{})}),Object(r.jsx)(h.a,{exact:!0,path:"/restaurants",children:Object(r.jsx)(Ce,{})}),Object(r.jsx)(h.a,{exact:!0,path:"/restaurants/edit_restaurant/:id",children:Object(r.jsx)(Qe,{})}),Object(r.jsx)(h.a,{exact:!0,path:"/restaurants/:id",children:Object(r.jsx)(ye,{})}),Object(r.jsx)(h.a,{exact:!0,path:"/restaurants/new_restaurant/add",children:Object(r.jsx)(qe,{})}),Object(r.jsx)(h.a,{exact:!0,path:"/dishes",children:Object(r.jsx)(Ue,{})}),Object(r.jsx)(h.a,{exact:!0,path:"/dishes/:id",children:Object(r.jsx)(Be,{})}),Object(r.jsx)(h.a,{exact:!0,path:"/dishes/new_dish/add",children:Object(r.jsx)(Ge,{})}),Object(r.jsx)(h.a,{exact:!0,path:"/dishes/edit_dish/:id",children:Object(r.jsx)(Ke,{})}),Object(r.jsx)(h.a,{exact:!0,path:"/categories",children:Object(r.jsx)(We,{})}),Object(r.jsx)(h.a,{exact:!0,path:"/notifications",children:Object(r.jsx)(ot,{})})]})}):Object(r.jsx)(n.Fragment,{children:Object(r.jsx)(re,{})})}}]),a}(n.Component),xt=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,571)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,s=t.getLCP,c=t.getTTFB;a(e),r(e),n(e),s(e),c(e)}))};i.a.render(Object(r.jsx)(s.a.StrictMode,{children:Object(r.jsx)(mt,{})}),document.getElementById("root")),xt()}},[[560,1,2]]]);
//# sourceMappingURL=main.d18b985c.chunk.js.map